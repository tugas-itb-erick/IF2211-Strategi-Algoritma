#pragma config(StandardModel, "EV3_REMBOT")
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

/* Tugas Besar IF2211 Strategi Algortima 2 */
/* Topik : DFS dan BFS */
/* Kelompok 34 - Aegis */
/* Anggota :
 * Gisela Supardi - 13515
 * Erick Wijaya   - 13515057
 * Audry Nyonata  - 13515
 */

#include "list/stack/stack.h"

/* Aksi Bergerak */
void MoveForward();
void MoveForwardTimed(int t);
void Turn(int dir);
/* Membelokkan robot sesuai arah (dir) */
/* dir = 1 -> left, else -> right */

/* Predikat Warna */
int IsWhite(); // TODO : Implement with RGB Value
int IsBlack();
int IsBlue();
int IsGreen();
int IsRed();
int IsYellow();

task main()
{
	while(IsWhite())
		MoveForward();
	while(IsBlue())
		MoveForward();
	while(IsBlack())
		MoveForward();
	MoveForwardTimed(300);
	Turn(1);
	Turn(2);
	Turn(2);
}

void MoveForward(){
	setMotorSpeed(leftMotor, 50);
	setMotorSpeed(rightMotor, 50);
}

void MoveForwardTimed(int t){
	setMotorSpeed(leftMotor, 30);
	setMotorSpeed(rightMotor, 30);
	sleep(t);
}

void Turn(int dir){
	resetGyro(gyroSensor);
	if (dir == 1){
		setMotorSpeed(leftMotor, -16);
		setMotorSpeed(rightMotor, 16);
		repeatUntil(getGyroDegrees(gyroSensor) <= -89){}
	}
	else{
		setMotorSpeed(leftMotor, 16);
		setMotorSpeed(rightMotor, -16);
		repeatUntil(getGyroDegrees(gyroSensor) >= 89){}
	}
	setMotorSpeed(leftMotor, 0);
	setMotorSpeed(rightMotor, 0);
}

int IsWhite(){
	if (getColorName(colorSensor) == colorWhite)
		return 1;
	return 0;
}

int IsBlack(){
	if (getColorName(colorSensor) == colorBlack)
		return 1;
	return 0;
}

int IsBlue(){
	if (getColorName(colorSensor) == colorBlue)
		return 1;
	return 0;
}

int IsGreen(){
	if (getColorName(colorSensor) == colorGreen)
		return 1;
	return 0;
}

int IsRed(){
	if (getColorName(colorSensor) == colorRed)
		return 1;
	return 0;
}

int IsYellow(){
	if (getColorName(colorSensor) == colorYellow)
		return 1;
	return 0;
}
